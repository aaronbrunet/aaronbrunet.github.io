(this["webpackJsonpread-later"]=this["webpackJsonpread-later"]||[]).push([[0],{28:function(e,t,a){e.exports=a(49)},33:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(13),c=a.n(l),i=(a(33),a(11)),o=a(8),u=a(14),m=a.n(u);m.a.initializeApp({apiKey:"AIzaSyCnk7Wgqm9JBeeZOGiAMLQNUZzpc6Kg7I8",authDomain:"read-later-46541.firebaseapp.com",databaseURL:"https://read-later-46541.firebaseio.com",projectId:"read-later-46541",storageBucket:"read-later-46541.appspot.com",messagingSenderId:"7434623786",appId:"1:7434623786:web:329fa43e0b87aa53ee5c53",measurementId:"G-FNWGSHBCX9"});var s=new m.a.auth.GoogleAuthProvider,d=m.a.auth(),p=m.a,E=a(4),g=a(21);function f(){var e=Object(g.a)(["\n    opacity:  ",";\n    .edit {        \n        pointer-events: ",";        \n        span {\n            display: inline-block;\n            transform: rotate(135deg);\n        }\n    }\n"]);return f=function(){return e},e}var b=a(22).a.tr(f(),(function(e){return!0===e.read?".3":"1"}),(function(e){return!0===e.read?"none":"enabled"})),h=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),l=a[0],c=a[1],u=e.loaded,m=e.data,s=e.filter?m.filter((function(t){return t.group===e.filter})):m,d=["All"].concat(Object(i.a)(e.groups)),p=function(t){t.target.value?e.ordering(t.target.value):e.ordering(null)},g=(e.groups.map((function(e,t){return r.a.createElement("button",{onClick:p,value:e,key:t},e)})),s.map((function(t,a){return r.a.createElement(b,{key:a,read:t.read},r.a.createElement("td",{name:"group"},t.group),r.a.createElement("td",{name:"url"},r.a.createElement("a",{href:t.url,rel:"noopener noreferrer",target:"_blank"},t.url)),r.a.createElement("td",{name:"description"},t.description),r.a.createElement("td",{name:"time"},t.timestamp),r.a.createElement("td",{name:"read"},r.a.createElement("button",{onClick:function(){return(a=t).read=!a.read,void e.update(a);var a}},r.a.createElement("span",null,"\ud83d\udc41\u200d\ud83d\udde8"))),r.a.createElement("td",{name:"actions"},r.a.createElement("button",{className:"edit",onClick:function(){return a=t,void e.edit(a);var a}},r.a.createElement("span",null,"\u270f"))),r.a.createElement("td",{name:"actions"},r.a.createElement("button",{className:"delete",onClick:function(){return e.delete(t)}},r.a.createElement("span",null,"\ud83d\uddd1"))))})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.f,{size:"sm"},"Your List"),r.a.createElement(E.e,null,u?s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.j,{items:d,selectedItemIndex:l,onChange:function(t){var a=t.activeIndex;c(a),console.log(d[a]),d[a]&&0!==a?e.filtering(d[a]):e.filtering(null)}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{name:"group"},"Group"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Updated"),r.a.createElement("th",null),r.a.createElement("th",{colSpan:"2"}))),r.a.createElement("tbody",null,g))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"No links found! Add a link to get reading (well, later)")):r.a.createElement(E.k,{accessibilityLabel:"random image",show:!u})))},v=a(10),O=a(26),j=function(e){var t={id:null,url:"",description:"",read:!1,timestamp:null,uid:null,group:""},a=Object(n.useState)(t),l=Object(o.a)(a,2),c=l[0],i=l[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),s=m[0],d=m[1],p=e.link,g=e.groups,f=e.user;Object(n.useEffect)((function(){p&&(i(p),d(!0))}),[p]);var b=function(t){var a,n=t.target,r=n.name,l=n.value;i(Object(O.a)({},c,(a={},Object(v.a)(a,r,l),Object(v.a)(a,"read",!1),Object(v.a)(a,"timestamp",(new Date).toLocaleString()),Object(v.a)(a,"uid",e.user.uid),a)))},h=g.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}));return r.a.createElement(r.a.Fragment,null,f?r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),c.url&&c.description&&(p?(e.update(c),d(!1)):e.add(c),i(t))}},r.a.createElement(E.b,{display:"flex",direction:"row",position:"relative"},r.a.createElement(E.d,{span:12},r.a.createElement(E.b,{display:"flex"},r.a.createElement(E.d,{span:4},r.a.createElement(E.g,{htmlFor:"url"},r.a.createElement("h3",null,"URL"))),r.a.createElement(E.d,{span:8},r.a.createElement("input",{type:"url",pattern:"https?://.+",name:"url",onChange:b,value:c.url}))),r.a.createElement(E.b,{display:"flex"},r.a.createElement(E.d,{span:4},r.a.createElement(E.g,{htmlFor:"description"},r.a.createElement("h3",null,"Description"))),r.a.createElement(E.d,{span:8},r.a.createElement("input",{name:"description",onChange:b,value:c.description}))),r.a.createElement(E.b,{display:"flex"},r.a.createElement(E.d,{span:4},r.a.createElement(E.g,{htmlFor:"group"},r.a.createElement("h3",null,"Group"))),r.a.createElement(E.d,{span:8},r.a.createElement("input",{name:"group",onChange:b,value:c.group,list:"groups"}),r.a.createElement("datalist",{id:"groups"},h))),r.a.createElement(E.b,{marginY:6},r.a.createElement(E.c,{size:"md",text:s?"\ud83d\udcbe":"Add +",color:"blue",type:"submit",inline:!0}))))):r.a.createElement("h4",null,"Login to start adding links!"))},k=function(e){var t=e.user;return r.a.createElement("div",{class:"header"},r.a.createElement(E.b,{padding:6,height:100},r.a.createElement(E.b,{position:"absolute",top:!0,left:!0},r.a.createElement(E.f,{size:"md"},"ReadL8r")),r.a.createElement(E.b,{position:"absolute",padding:6,top:!0,right:!0,display:"flex",direction:"row"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.c,{onClick:e.logout,text:"Sign Out",color:"gray",inline:!0}),r.a.createElement(E.a,{size:"md",alt:"user profile",src:t.photoURL,name:t.displayName})):r.a.createElement(E.c,{onClick:e.login,text:"Sign In",inline:!0}))))},y=(a(47),a(48),[]),S=function(){var e=Object(n.useState)(y),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),u=Object(o.a)(c,2),m=u[0],g=u[1],f=Object(n.useState)(null),b=Object(o.a)(f,2),v=b[0],O=b[1],S=Object(n.useState)([]),w=Object(o.a)(S,2),L=w[0],C=w[1],x=Object(n.useState)(null),I=Object(o.a)(x,2),A=I[0],N=I[1],F=Object(n.useState)(!1),z=Object(o.a)(F,2),D=z[0],B=z[1],G=Object(n.useState)(!1),U=Object(o.a)(G,2),R=U[0],W=U[1];Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){e&&g(e)}))})),Object(n.useEffect)((function(){if(m){var e="";e=p.database().ref("links/"+m.uid).orderByChild("group");var t=[],a=[],n=[];e.on("value",(function(e){t=[],e.forEach((function(e){for(var r in e.id=e.key,t.push(e.val()),e.child("group").val()&&a.push(e.child("group").val()),e.val())n.push(r)})),a=Object(i.a)(new Set(a)),n=Object(i.a)(new Set(n)),A||C(a),l(t),W(!0)}))}else l(y)}),[m,A]);var J=function(e){W(!1),e.timestamp=(new Date).toLocaleString(),!e.group||e.group,l([].concat(Object(i.a)(a),[e]));var t=p.database().ref("links/".concat(m.uid)).push().key;e.id=t,p.database().ref("links/".concat(m.uid,"/").concat(t)).update(e),B(!1),W(!0)},K=function(e){W(!1),e.timestamp=(new Date).toLocaleString(),l(a.map((function(t){return t.id.match(e.id)?e:t}))),p.database().ref("/links/".concat(m.uid)).child(e.id).update(e),B(!1),W(!0)},M=function(){B((function(e){return!e})),console.log(D)};return r.a.createElement("div",{className:"App"},r.a.createElement(k,{login:function(){d.signInWithPopup(s).then((function(e){var t=e.user;g(t)}))},logout:function(){d.signOut().then((function(){g(null)}))},user:m}),r.a.createElement(E.b,{"max-width":"100%"},r.a.createElement("div",{className:"container mainContainer"},r.a.createElement("div",{className:"column"},m?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{data:a,update:K,edit:function(e){O(e),M()},delete:function(e){W(!1),p.database().ref("/links/".concat(m.uid,"/").concat(e.id)).remove();var t=a.filter((function(t){return t.id!==e.id}));l(t),W(!0)},user:m,groups:L,keys:["timestamp","group","description"],filter:A,filtering:function(e){N(e)},loaded:R}),r.a.createElement(E.b,{padding:4},r.a.createElement(E.c,{onClick:M,text:"Add New Link",color:"blue",inline:!0}))):r.a.createElement("h4",null,"Log in to see your list!")),D&&r.a.createElement(E.h,null,r.a.createElement(E.i,{accessibilityCloseLabel:"close",accessibilityModalLabel:"View random images",heading:v?"Edit Link":"Add Link",onDismiss:M,size:"lg"},r.a.createElement(E.b,{padding:10},r.a.createElement("div",{className:"column"},v?r.a.createElement(j,{add:J,user:m,link:v,update:K,groups:L}):r.a.createElement(j,{add:J,user:m,groups:L}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.9b7a74d0.chunk.js.map